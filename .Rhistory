View(Data)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`, run_value)) %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`Stf+ Pitch` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`Stf+ Pitch` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
library(tidyverse)
# mlb_data <- read_csv("https://shorturl.at/iCP15") %>%
# janitor::clean_names() %>%
# mutate_at(vars(bb_percent:k_percent), parse_number)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(x = model_data_two[, -"woba"], y = model_data_two$woba, num.trees =
50, importance = "impurity")
init_mlb_rf <- ranger(woba ~ ., data = model_data_two[, -which(names(model_data_two) ==
"woba")],
num.trees = 50, importance = "impurity")
init_mlb_rf <- ranger(`Stf+ Pitch` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf <- ranger(`Stf+ Pitch` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("Stf+ Pitch" = "stfpluspitch") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50, importance
= "impurity")
init_mlb_rf
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type = "CU")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type = "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "FC") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`stfpluspitch` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 50,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 500,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 500,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching, -ba,
-slg, -run_value_per_100, -est_woba)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(-Name, -year, -team_name_abbrev, -pitch_hand, -pitch_type,
-pitch_type_name, -playerID, -league_break_x, -league_break_z, -tail,
-rise, -percent_rank_diff_x, -percent_rank_diff_z, -Stuff, -Pitching, -ba,
-slg, -run_value_per_100, -est_woba, -run_value)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(k_percent, whiff_percent, put_away, hard_hit_percent, pitcher_break_x,
pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(k_percent, whiff_percent, put_away, hard_hit_percent, pitcher_break_x,
pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(`woba` ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(woba, k_percent, whiff_percent, put_away, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent, put_away,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent, put_away,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SI") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent, put_away,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CH") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent, put_away,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SL") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent, put_away,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SL") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
View(pitches)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SL") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "HI") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "HI") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "FC") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "FF") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SI") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CH") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "SL") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "FS") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
model_data_two <- Data %>%
filter(!is.na(`Stf+ Pitch`), !is.na(run_value)) %>%
rename("stfpluspitch" = "Stf+ Pitch") %>%
filter(pitch_type == "CU") %>%
dplyr::select(woba, whiff_percent, hard_hit_percent,
pitcher_break_x, pitcher_break_z, avg_speed, stfpluspitch)
head(model_data_two)
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
library(ranger)
init_mlb_rf <- ranger(woba ~ ., data = model_data_two, num.trees = 1000,
importance = "impurity")
init_mlb_rf
library(vip)
vip(init_mlb_rf, geom = "point") + theme_bw()
